<ion-header>
  <ion-toolbar color="success">
    <ion-title>myexpenses</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid fixed>
    <ion-row>
      <ion-col size="12"><ion-list-header>Select your expense category</ion-list-header></ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="6">
        <ion-item>
          <ion-label>Category</ion-label>
          <ion-select value ="All" interface="popover" (ionChange)="displayExpenses();" [(ngModel)]="currentCategory">
            <ion-select-option value="All">All</ion-select-option>
            <ion-select-option value="Food">Food</ion-select-option>
            <ion-select-option value="Drinks">Drinks</ion-select-option>
            <ion-select-option value="Clothing">Clothing</ion-select-option>
            <ion-select-option value="Entertainment">Entertainment</ion-select-option>
            <ion-select-option value="Technology">Technology</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
      <ion-col size="6">
        <ion-item>
          <ion-label>Period</ion-label>
          <ion-select value="All" interface="popover" (ionChange)="displayExpenses();" [(ngModel)]="currentPeriod">
            <ion-select-option value="All">All</ion-select-option>
            <ion-select-option value="0">This month</ion-select-option>
            <ion-select-option value="1">Last month</ion-select-option>
            <ion-select-option value="2">2 months ago</ion-select-option>
            <ion-select-option value="3">3 months ago</ion-select-option>
            <ion-select-option value="6">Last Semseter</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="12">
        <ion-card-header>
          <ion-card-title color="success">Total in the selected period : </ion-card-title>
          <ion-card-subtitle color="dark">{{totalExpenses}} dt</ion-card-subtitle>
        </ion-card-header>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-list class="ion-padding">
    <ion-item *ngFor="let expense of expensesDisplayed">
      <ion-grid fixed>
        <ion-row>
          <ion-col size="12">
            <ion-text><strong>{{expense.quantity}} {{expense.title}} [{{expense.brand}}]</strong></ion-text>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="12">
            <ion-text class="expense-description">{{expense.description}}</ion-text>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6">
            <ion-text>{{expense.place}}</ion-text>     
          </ion-col>
          <ion-col size="4" offset="2">
            <ion-text>{{expense.date.substr(8,2)}}-{{expense.date.substr(5,2)}}-{{expense.date.substr(0,4)}}</ion-text>          
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="4" offset="8">
            <ion-text color="success">{{expense.price * expense.quantity}}dt</ion-text>          
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-list>
</ion-content>
